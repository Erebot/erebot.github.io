<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &mdash; documentation Erebot latest-0.6.0-74-g691fc3f</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'latest-0.6.0-74-g691fc3f',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="documentation Erebot latest-0.6.0-74-g691fc3f" href="index.html" />
    <link rel="next" title="Configuration" href="Configuration.html" />
    <link rel="prev" title="Prerequisites" href="Prerequisites.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>documentation Erebot latest-0.6.0-74-g691fc3f</span></a></h1>
        <h2 class="heading"><span>Installation</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="Prerequisites.html">Prerequisites</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contenu</a>
        &#160;&#160;::&#160;&#160;
        <a href="Configuration.html">Configuration</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <blockquote>
<div></div></blockquote>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Lien permanent vers ce titre">¶</a></h1>
<p>This pages contains instructions on how to install Erebot on your machine.
There are several ways to achieve that. Each method is described below.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#installation-using-phar-archives" id="id1">Installation using PHAR archives</a></li>
<li><a class="reference internal" href="#installation-using-composer" id="id2">Installation using Composer</a></li>
<li><a class="reference internal" href="#final-steps" id="id3">Final steps</a></li>
</ul>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You cannot mix the different methods. Especially, <strong>you must use the same
method to install modules as the one you selected for Erebot itself</strong>.</p>
</div>
<div class="section" id="installation-using-phar-archives">
<span id="phar-installation"></span><h2><a class="toc-backref" href="#id1">Installation using PHAR archives</a><a class="headerlink" href="#installation-using-phar-archives" title="Lien permanent vers ce titre">¶</a></h2>
<p>A PHAR archive is simply a way of bundling all the necessary files in one big
file. However, the PHAR archive does not contain any module.
Thus, to get a working installation, you must install additional Erebot
modules. At a minimum, this includes the following modules:</p>
<ul class="simple">
<li><a class="reference external" href="./projects/autoconnect/">Erebot_Module_AutoConnect</a></li>
<li><a class="reference external" href="./projects/ircconnector/">Erebot_Module_IrcConnector</a></li>
<li><a class="reference external" href="./projects/pingreply/">Erebot_Module_PingReply</a></li>
</ul>
<p>Installing Erebot from a PHAR archive involves only a few steps:</p>
<ul>
<li><p class="first">Make sure your installation fulfills all of the <a class="reference internal" href="Prerequisites.html"><em>Prerequisites</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As all of Erebot&#8217;s PHAR archives (core and modules) are digitally
signed, you must make sure the OpenSSL extension is enabled on your
PHP installation. Failure to do so will result in an error when trying
to run Erebot&#8217;s PHAR archive.</p>
</div>
</li>
<li><p class="first">Download the PHAR archive for Erebot itself. You can grab the latest
version from our <cite>release page &lt;github.com/Erebot/Erebot/releases/latest/&gt;</cite>.
You MUST also download the public signature for the archive.
The signature is available for download alongside the PHAR archive.</p>
</li>
<li><p class="first">Create a directory named <tt class="file docutils literal"><span class="pre">modules</span></tt> in the same folder as the PHAR.</p>
</li>
<li><p class="first">Download the PHAR archive and its signature for each of the following
modules:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/Erebot/Module_AutoConnect/releases/latest/">Erebot_Module_AutoConnect</a></li>
<li><a class="reference external" href="https://github.com/Erebot/Module_IrcConnector/releases/latest/">Erebot_Module_IrcConnector</a></li>
<li><a class="reference external" href="https://github.com/Erebot/Module_PingReply/releases/latest/">Erebot_Module_PingReply</a></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You <strong>MUST</strong> copy both the PHAR archives and their signature in the
<tt class="file docutils literal"><span class="pre">modules</span></tt> directory. Otherwise, PHP will refuse to load those
PHAR archives because it cannot check their origin and integrity.</p>
</div>
<p>Make sure you also read each module&#8217;s documentation to look for any additional
prerequisites.</p>
</li>
<li><p class="first">(Optional) Download the PHAR archives &amp; signature of any additional module
you would like to use.</p>
</li>
</ul>
<p>Your tree should now look like this:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>Erebot/</dt>
<dd><ul class="first last">
<li><p class="first"><tt class="file docutils literal"><span class="pre">Erebot-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar</span></tt></p>
</li>
<li><p class="first"><tt class="file docutils literal"><span class="pre">Erebot-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar.pubkey</span></tt></p>
</li>
<li><dl class="first docutils">
<dt>modules/</dt>
<dd><ul class="first last simple">
<li><tt class="file docutils literal"><span class="pre">Erebot_Module_AutoConnect-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">Erebot_Module_AutoConnect-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar.pubkey</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">Erebot_Module_IrcConnector-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">Erebot_Module_IrcConnector-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar.pubkey</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">Erebot_Module_PingReply-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">Erebot_Module_PingReply-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar.pubkey</span></tt></li>
<li><em>eventually, additional PHAR archives with their signature</em></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Once the PHAR archives have been retrieved, you may wish to change file
permissions on <tt class="file docutils literal"><span class="pre">Erebot-</span><em><span class="pre">X.Y.Z</span></em><span class="pre">.phar</span></tt>:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>chmod 0755 Erebot-*.phar
</pre></div>
</div>
</div></blockquote>
<p>This way, you may later launch Erebot simply by executing the PHAR archive:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./Erebot-*.phar
</pre></div>
</div>
</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Even though the command above should work on most installations,
a few known problems may occur due to incompatibilities with certain
PHP features and extensions. To avoid such issues, it is usually a good
idea to check the following items:</p>
<ul class="last">
<li><p class="first">Make sure <tt class="docutils literal"><span class="pre">detect_unicode</span></tt> is set to <tt class="docutils literal"><span class="pre">Off</span></tt> in your <tt class="file docutils literal"><span class="pre">php.ini</span></tt>.
This is especially important on MacOS where this setting tends to be
<tt class="docutils literal"><span class="pre">On</span></tt> for a default PHP installation.</p>
</li>
<li><p class="first">If you applied the Suhosin security patch to your PHP installation,
make sure <tt class="docutils literal"><span class="pre">phar</span></tt> is listed in your <tt class="file docutils literal"><span class="pre">php.ini</span></tt> under the
<tt class="docutils literal"><span class="pre">suhosin.executor.include.whitelist</span></tt> directive.</p>
</li>
<li><p class="first">Please be aware of certain incompatibilities between the Phar extension
and the ionCube Loader extension. To run Erebot from a PHAR archive,
you will need to remove the following line from your <tt class="file docutils literal"><span class="pre">php.ini</span></tt>:</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="na">zend_extension</span><span class="o">=</span><span class="s">/usr/lib/php5/20090626+lfs/ioncube_loader_lin_5.3.so</span>
</pre></div>
</div>
<p>(the path and versions may be different for your installation).</p>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When run from a PHAR archive, Erebot will first try to determine whether
all requirements needed to run the bot and its modules are respected.
In case an error is displayed, follow the indications given in the error
message and try running the bot again.</p>
</div>
<p>That&#8217;s it! You may now read the section on <a class="reference internal" href="#final-steps">final steps</a> for a summary of
what to do next.</p>
</div>
<div class="section" id="installation-using-composer">
<span id="composer-installation"></span><h2><a class="toc-backref" href="#id2">Installation using Composer</a><a class="headerlink" href="#installation-using-composer" title="Lien permanent vers ce titre">¶</a></h2>
<p>First, make sure <a class="reference external" href="https://getcomposer.org/">Composer</a> is installed. If not, follow
the <cite>installation instructions &lt;https://getcomposer.org/download/&gt;</cite>
on their website.</p>
<ul>
<li><p class="first">Create a new folder named <tt class="file docutils literal"><span class="pre">Erebot</span></tt> and go into that folder:</p>
<div class="highlight-bash"><div class="highlight"><pre>me@localhost:~/<span class="nv">$ </span>mkdir Erebot
me@localhost:~/<span class="nv">$ </span><span class="nb">cd </span>Erebot
</pre></div>
</div>
</li>
<li><p class="first">Use <a class="reference external" href="https://getcomposer.org/">Composer</a> to install the bot&#8217;s code:</p>
<div class="highlight-bash"><div class="highlight"><pre>me@localhost:~/Erebot/<span class="nv">$ </span>php /path/to/composer.phar require --update-no-dev erebot/erebot erebot/ircconnector-module erebot/pingreply-module erebot/autoconnect-module
</pre></div>
</div>
<p>You may pass additional module names if you want to use other modules.</p>
</li>
<li><p class="first">Next, if you&#8217;re an Erebot developer, install development dependencies as well:</p>
<div class="highlight-bash"><div class="highlight"><pre>me@localhost:~/Erebot/<span class="nv">$ </span>php /path/to/composer.phar update
</pre></div>
</div>
</li>
</ul>
<p>That&#8217;s it! The bot is now installed.
Be sure to read the section on <a class="reference internal" href="#final-steps">final steps</a> for a summary of what to do next.</p>
</div>
<div class="section" id="final-steps">
<h2><a class="toc-backref" href="#id3">Final steps</a><a class="headerlink" href="#final-steps" title="Lien permanent vers ce titre">¶</a></h2>
<p>Once Erebot (core files + a few modules) has been installed, you can
<a class="reference external" href="Configuration.html">write a configuration file</a> for Erebot (usually named <tt class="file docutils literal"><span class="pre">Erebot.xml</span></tt>).</p>
<p>When this is done, the bot can be started, assuming that PHP can be found
in your <span class="target" id="index-0"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PATH</span></tt> using one of the following commands.
Exactly what command must be used depends on the installation method.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># For an installation using PHAR archives.</span>
<span class="c"># Must be run from the folder in which Erebot was installed.</span>
<span class="nv">$ </span>php ./Erebot-&lt;version&gt;.phar

<span class="c"># For an installation using Composer.</span>
<span class="c"># Must be run from the folder in which Erebot was installed.</span>
<span class="nv">$ </span>php ./vendor/bin/Erebot
</pre></div>
</div>
<p>Let&#8217;s call this command <tt class="docutils literal"><span class="pre">%EREBOT%</span></tt>.</p>
<p>In each case, the bot reacts to a few command-line options.
Use the following command to get help on those options.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>%EREBOT% --help
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For ease of use, Linux users may prefer to add the path where
<tt class="file docutils literal"><span class="pre">Erebot-</span><em><span class="pre">version</span></em><span class="pre">.phar</span></tt> or the <strong class="command">Erebot</strong> script resides to
their <span class="target" id="index-1"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PATH</span></tt>. This way, the bot can be started simply by launching
<strong class="command">Erebot</strong> or <tt class="file docutils literal"><span class="pre">Erebot-</span><em><span class="pre">version</span></em><span class="pre">.phar</span></tt> from the command-line
or by double-clicking on them from a graphical file browser.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unfortunately for Windows users, there is no equivalent to the
<span class="target" id="index-2"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PATH</span></tt> trick noted above.
However, it is possible to associate the <tt class="docutils literal"><span class="pre">.phar</span></tt> extension with PHP.
This way, if Erebot was installed using PHAR archives, the bot can be
started simply by double-clicking on <tt class="file docutils literal"><span class="pre">Erebot-</span><em><span class="pre">version</span></em><span class="pre">.phar</span></tt>.</p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="Prerequisites.html">Prerequisites</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contenu</a>
        &#160;&#160;::&#160;&#160;
        <a href="Configuration.html">Configuration</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2019, The Erebot team.
      Mis à jour le Jan 06, 2019.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  
<!-- Custom overlay -->
<script type="text/javascript">
var erebot = {"source_suffix": ".rst", "language": "fr", "builder": "html", "default_branch": "master", "project": {"version": "latest", "name": "Erebot", "slug": "erebot/erebot"}, "base": "./", "page": "Installation"};
</script>
<script type="text/javascript" src="./../../../../erebot-overlay.js"></script>

<!-- Statistics -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDocumentTitle", document.domain + " / " + document.title]);
  if (document.domain != 'docs.erebot.net') {
      _paq.push(["setCookieDomain", "erebot.github.io"]);
  }
  _paq.push(["setDomains", ["erebot.github.io", "docs.erebot.net"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.erebot.net/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '4']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//stats.erebot.net/piwik.php?idsite=4" style="border:0;" alt="" /></p></noscript>
</body>
</html>