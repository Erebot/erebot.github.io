<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LagChecker module &mdash; documentation Erebot latest-0.6.0-74-g691fc3f</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'latest-0.6.0-74-g691fc3f',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="top" title="documentation Erebot latest-0.6.0-74-g691fc3f" href="../index.html" />
    <link rel="up" title="Compatible modules" href="../Modules.html" />
    <link rel="next" title="Math module" href="Math.html" />
    <link rel="prev" title="IrcTracker module" href="IrcTracker.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>documentation Erebot latest-0.6.0-74-g691fc3f</span></a></h1>
        <h2 class="heading"><span>LagChecker module</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="IrcTracker.html">IrcTracker module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contenu</a>
        &#160;&#160;::&#160;&#160;
        <a href="Math.html">Math module</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <blockquote>
<div></div></blockquote>
<div class="section" id="lagchecker-module">
<h1>LagChecker module<a class="headerlink" href="#lagchecker-module" title="Lien permanent vers ce titre">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#description" id="id1">Description</a></li>
<li><a class="reference internal" href="#configuration" id="id2">Configuration</a><ul>
<li><a class="reference internal" href="#options" id="id3">Options</a></li>
<li><a class="reference internal" href="#example" id="id4">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a><ul>
<li><a class="reference internal" href="#provided-commands" id="id6">Provided commands</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id1">Description</a><a class="headerlink" href="#description" title="Lien permanent vers ce titre">¶</a></h2>
<p>This module detects lag and automatically disconnects and then reconnects
the bot when the lag is above a certain threshold.</p>
</div>
<div class="section" id="configuration">
<h2><a class="toc-backref" href="#id2">Configuration</a><a class="headerlink" href="#configuration" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id3">Options</a><a class="headerlink" href="#options" title="Lien permanent vers ce titre">¶</a></h3>
<p>This module provides several configuration options.</p>
<table border="1" class="docutils">
<caption>Options for \Erebot\Module\LagChecker</caption>
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Default
value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>check</td>
<td>integer</td>
<td>n/a</td>
<td>The delay (in seconds) between
two consecutive lag checks.
This should not be set to high to
avoir risking a disconnection due
to a timeout between checks (thus
defeating the whole point of this
module). However, it should not
be set too low either to avoid
flooding the IRC server with lag
checks. A delay of 60 seconds
(1 minute) seems reasonable.</td>
</tr>
<tr class="row-odd"><td>reconnect</td>
<td>integer</td>
<td>n/a</td>
<td>The delay the bot will wait after
disconnecting from an IRC server
due to high latency before an
attempt is made to reconnect.
This is meant to delay operations
a little so that the latency gets
lower and to implement some kind
of &#8220;reconnection throttling&#8221;.
You should probably set this to a
value higher or equal to the
value for the <tt class="docutils literal"><span class="pre">check</span></tt> option.</td>
</tr>
<tr class="row-even"><td>timeout</td>
<td>integer</td>
<td>n/a</td>
<td>The number of seconds the bot
will wait for a response after it
sends a periodic latency check.
If no response is received by
then, this module will consider
the connection to be unresponsive
and will (possibly forcefully)
disconnect the bot from the
associated IRC server.
You may set this to a low value
on broadband connections (eg.
5 seconds).</td>
</tr>
<tr class="row-odd"><td>trigger</td>
<td>string</td>
<td>&#8220;lag&#8221;</td>
<td>The command to use to ask the bot
about the current lag.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Depending on your connection, setting the value of the <tt class="docutils literal"><span class="pre">timeout</span></tt> option
to a value that is too low may result in excessive cycles of disconnections
and reconnections from/to IRC servers.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The trigger should only contain alphanumeric characters (in particular,
do not add any prefix, like &#8221;!&#8221; to that value).</p>
</div>
</div>
<div class="section" id="example">
<h3><a class="toc-backref" href="#id4">Example</a><a class="headerlink" href="#example" title="Lien permanent vers ce titre">¶</a></h3>
<p>In this example, we configure the bot to check the latency every 2 minutes
(120 seconds). The IRC server has 15 seconds to respond to our latency checks.
If it does not answer by then, the bot will disconnect from that IRC server
and will wait for another full minute before attempting a reconnection.
Moreover, the command &#8221;!latency&#8221; can be used at any time to display
the current latency.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;configuration</span>
  <span class="na">xmlns=</span><span class="s">&quot;http://localhost/Erebot/&quot;</span>
  <span class="na">version=</span><span class="s">&quot;0.20&quot;</span>
  <span class="na">language=</span><span class="s">&quot;fr-FR&quot;</span>
  <span class="na">timezone=</span><span class="s">&quot;Europe/Paris&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;modules&gt;</span>
    <span class="c">&lt;!-- Other modules ignored for clarity. --&gt;</span>

    <span class="nt">&lt;module</span> <span class="na">name=</span><span class="s">&quot;\Erebot\Module\LagChecker&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;check&quot;</span>     <span class="na">value=</span><span class="s">&quot;120&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;timeout&quot;</span>   <span class="na">value=</span><span class="s">&quot;15&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;reconnect&quot;</span> <span class="na">value=</span><span class="s">&quot;60&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;trigger&quot;</span>   <span class="na">value=</span><span class="s">&quot;latency&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/module&gt;</span>
  <span class="nt">&lt;/modules&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Lien permanent vers ce titre">¶</a></h2>
<p>This section assumes default values are used for all triggers.
Please refer to <em class="xref std std-ref">configuration options</em>
for more information on how to customize triggers.</p>
<div class="section" id="provided-commands">
<h3><a class="toc-backref" href="#id6">Provided commands</a><a class="headerlink" href="#provided-commands" title="Lien permanent vers ce titre">¶</a></h3>
<p>This module provides the following commands:</p>
<table border="1" class="docutils">
<caption>Commands provided by \Erebot\Module\LagChecker</caption>
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">!lag</span></tt></td>
<td>Displays the current lag, as measured
during the bot&#8217;s last check.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="IrcTracker.html">IrcTracker module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contenu</a>
        &#160;&#160;::&#160;&#160;
        <a href="Math.html">Math module</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2019, The Erebot team.
      Mis à jour le Jan 06, 2019.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  
<!-- Custom overlay -->
<script type="text/javascript">
var erebot = {"source_suffix": ".rst", "language": "fr", "builder": "html", "default_branch": "master", "project": {"version": "latest", "name": "Erebot", "slug": "erebot/erebot"}, "base": ".././", "page": "Modules/LagChecker"};
</script>
<script type="text/javascript" src=".././../../../../erebot-overlay.js"></script>

<!-- Statistics -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDocumentTitle", document.domain + " / " + document.title]);
  if (document.domain != 'docs.erebot.net') {
      _paq.push(["setCookieDomain", "erebot.github.io"]);
  }
  _paq.push(["setDomains", ["erebot.github.io", "docs.erebot.net"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.erebot.net/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '4']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//stats.erebot.net/piwik.php?idsite=4" style="border:0;" alt="" /></p></noscript>
</body>
</html>