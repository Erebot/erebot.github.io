<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Erebot: Erebot\Prompt Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Erebot
   &#160;<span id="projectnumber">latest</span>
   </div>
   <div id="projectbrief">A modular IRC bot for PHP 7.0+</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classErebot_1_1Prompt.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classErebot_1_1Prompt-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Erebot\Prompt Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A simple prompt which can be used to send commands remotely.  
 <a href="classErebot_1_1Prompt.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Erebot\Prompt:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classErebot_1_1Prompt__inherit__graph.png" border="0" usemap="#Erebot_0CPrompt_inherit__map" alt="Inheritance graph"/></div>
<map name="Erebot_0CPrompt_inherit__map" id="Erebot_0CPrompt_inherit__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac645e0090b586dec88368614536e37a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classErebot_1_1Prompt.html#ac645e0090b586dec88368614536e37a9">__construct</a> (\Erebot\Interfaces\Core $bot, $connector=null, $group=null, $perms=0660)</td></tr>
<tr class="separator:ac645e0090b586dec88368614536e37a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2cd4ad30560baabdfb661c60de037a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b2cd4ad30560baabdfb661c60de037a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classErebot_1_1Prompt.html#a3b2cd4ad30560baabdfb661c60de037a">__destruct</a> ()</td></tr>
<tr class="memdesc:a3b2cd4ad30560baabdfb661c60de037a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a3b2cd4ad30560baabdfb661c60de037a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3707957bc838b5fe4de1f962fc59e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa3707957bc838b5fe4de1f962fc59e6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>connect</b> ()</td></tr>
<tr class="separator:afa3707957bc838b5fe4de1f962fc59e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29c7c7b217eb21ec24116ff6d6a3d9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa29c7c7b217eb21ec24116ff6d6a3d9e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>disconnect</b> ($quitMessage=null)</td></tr>
<tr class="separator:aa29c7c7b217eb21ec24116ff6d6a3d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f2352ca90bfebd6bb232cb00c4427d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99f2352ca90bfebd6bb232cb00c4427d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>getBot</b> ()</td></tr>
<tr class="separator:a99f2352ca90bfebd6bb232cb00c4427d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22c964aa983ecf6c77c3600426c3fd7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae22c964aa983ecf6c77c3600426c3fd7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>getConfig</b> ($chan)</td></tr>
<tr class="separator:ae22c964aa983ecf6c77c3600426c3fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d92badc700d681178248b784dc72cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80d92badc700d681178248b784dc72cd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>getIO</b> ()</td></tr>
<tr class="separator:a80d92badc700d681178248b784dc72cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc446bb9c1f63b33d549959bd3f53163"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc446bb9c1f63b33d549959bd3f53163"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>getSocket</b> ()</td></tr>
<tr class="separator:abc446bb9c1f63b33d549959bd3f53163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe4f4a9d5beca7b590ba30cda0e1c59a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe4f4a9d5beca7b590ba30cda0e1c59a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>isConnected</b> ()</td></tr>
<tr class="separator:abe4f4a9d5beca7b590ba30cda0e1c59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43ac07619ffa1856e0b813aa726b473"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab43ac07619ffa1856e0b813aa726b473"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classErebot_1_1Prompt.html#ab43ac07619ffa1856e0b813aa726b473">process</a> ()</td></tr>
<tr class="memdesc:ab43ac07619ffa1856e0b813aa726b473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes commands queued in the input buffer. <br/></td></tr>
<tr class="separator:ab43ac07619ffa1856e0b813aa726b473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d1a875ec6255af13526c437ea278ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6d1a875ec6255af13526c437ea278ed"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>read</b> ()</td></tr>
<tr class="separator:ae6d1a875ec6255af13526c437ea278ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a457cf881acb95c378ae9da4c67bc87b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classErebot_1_1Prompt.html#a457cf881acb95c378ae9da4c67bc87b6">handleMessage</a> ($line)</td></tr>
<tr class="separator:a457cf881acb95c378ae9da4c67bc87b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7cbfd9b5866be8aa056c5968b77a385e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cbfd9b5866be8aa056c5968b77a385e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classErebot_1_1Prompt.html#a7cbfd9b5866be8aa056c5968b77a385e">$bot</a></td></tr>
<tr class="memdesc:a7cbfd9b5866be8aa056c5968b77a385e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A bot object implementing the Erebot::Interfaces::Core interface. <br/></td></tr>
<tr class="separator:a7cbfd9b5866be8aa056c5968b77a385e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc67b7eeff1064cdb5de3d8ccbb4889"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5dc67b7eeff1064cdb5de3d8ccbb4889"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classErebot_1_1Prompt.html#a5dc67b7eeff1064cdb5de3d8ccbb4889">$io</a></td></tr>
<tr class="memdesc:a5dc67b7eeff1064cdb5de3d8ccbb4889"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O manager for the socket. <br/></td></tr>
<tr class="separator:a5dc67b7eeff1064cdb5de3d8ccbb4889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ada9e75e06ebbc4428563f2a3eddb6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6ada9e75e06ebbc4428563f2a3eddb6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classErebot_1_1Prompt.html#af6ada9e75e06ebbc4428563f2a3eddb6">$socket</a></td></tr>
<tr class="memdesc:af6ada9e75e06ebbc4428563f2a3eddb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The underlying socket, represented as a stream. <br/></td></tr>
<tr class="separator:af6ada9e75e06ebbc4428563f2a3eddb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A simple prompt which can be used to send commands remotely. </p>
<p>This class can be used by external processes to send commands through the bot. It creates a UNIX socket other programs can send commands to whenever they want the bot to send certain commands to an IRC server.</p>
<p>Such commands must be prefixed by a pattern (which accepts '*' and '?' as wildcards, but not the full grammar of regular expressions) to indicate which server(s) the command must be sent to (hint: '*' can be used to refer to all servers the bot is connected to).</p>
<p>This makes in possible to display the output of some shell script on IRC. For example, the following command would display the output of <em>/some/command</em>.sh to #Erebot on all servers the bot is currently connected to: </p>
<div class="fragment"><div class="line">       /some/command.sh | sed <span class="stringliteral">&#39;s/^/* PRIVMSG #Erebot :/&#39;</span> | \</div>
<div class="line">*          socat - UNIX-SENDTO:/path/to/the/prompt.sock</div>
<div class="line">* </div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="Prompt_8php_source.html#l00045">45</a> of file <a class="el" href="Prompt_8php_source.html">Prompt.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac645e0090b586dec88368614536e37a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Erebot\Prompt::__construct </td>
          <td>(</td>
          <td class="paramtype">\Erebot\Interfaces\Core&#160;</td>
          <td class="paramname"><em>$bot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$connector</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$group</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$perms</em> = <code>0660</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs the UNIX socket that represents the prompt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">Erebot::Interfaces::Core</td><td class="paramname">$bot</td><td>Instance of the bot to operate on.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$connector</td><td>(optional) Path where the newly-created UNIX socket will be made accessible. The default is to create a UNIX socket named "Erebot.sock" in the system's temporary directory (usually "/tmp/").</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$group</td><td>(optional) Either the name or the identifier of the UNIX group the socket will belong to. The default is to not change the group of the socket (i.e. to keep whatever is the main group for the user running Erebot).</td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$perms</td><td>(optional) UNIX permissions the newly-created socket will receive. The default is to give read/write access to the user running Erebot and to the group the socket belongs to (see $group).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>On most systems, only the superuser may change the group of a file arbitrarily, while other users may only change it to a group they are a member of.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Using the wrong combination of $group and $perms may lead to security issues. Use with caution. The default values are safe as long as you trust users belonging to the same group as the main group of the user running Erebot.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://php.net/chmod">http://php.net/chmod</a> provides more information on the meaning of $perms' value (see the description for <code>mode</code>). </dd></dl>

<p>Definition at line <a class="el" href="Prompt_8php_source.html#l00099">99</a> of file <a class="el" href="Prompt_8php_source.html">Prompt.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a457cf881acb95c378ae9da4c67bc87b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Erebot\Prompt::handleMessage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handles a line received from the prompt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$line</td><td>A single line of text received from the prompt, with the end-of-line sequence stripped. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Prompt_8php_source.html#l00224">224</a> of file <a class="el" href="Prompt_8php_source.html">Prompt.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="Prompt_8php_source.html">Prompt.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Erebot</b></li><li class="navelem"><a class="el" href="classErebot_1_1Prompt.html">Prompt</a></li>
    <li class="footer">Generated on Sun Jan 6 2019 21:48:49 for Erebot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  if (document.domain != 'docs.erebot.net') {'
      _paq.push(["setCookieDomain", "*.readthedocs.org"]);
  }
  _paq.push(["setDomains", ["*.readthedocs.io", "*.rtfd.io", "*.rtfd.org", "*.erebot.net"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.erebot.net/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '4']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->
</body>
</html>
